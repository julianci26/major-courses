# Scripting Language (with Python3)
---
## Life in the DevOps World
- DevOps: Philosophy
- Relevant Highlights
- Turnaround for an Ops task is minutes to hours
- Ops need development skills
- Devs need operational skills
## Building the Golden Configuration File (YAML)
**net-conf.yaml**:
```
---
# WARNING: this file was generated automatically, do not modify!
computer:
    - host:
        name: neophix
        ip: 192.168.56.101
    - interface:
        name: enp0s8
        type: ethernet
```
## Templating the Golden Configuration
**net-conf.yaml.j2**
```
---
# WARNING: this file was generated automatically, do not modify!
computer:
    - host:
        name: {{ hostname }}
        ip: {{ ip_address }}
    - interface:
        name: enp0s8
        type: ethernet
```
## Jinja Templating
- We can add variables into our files using a tool called **Jinja**.  
- Jinja gets a set of values to work with â€” in this case, two variables: `hostname` and `ip_address`.  
- We use these variables in the file by putting them inside double curly braces like this: `{{ }}`.

**Example:**
```jinja
name: {{ hostname }}
ip: {{ ip_address }}
```
## Writing and loading the Python to Use Jinja
```
from jinja2 import Environment, FileSystemLoader

# Set up the Jinja2 environment to load templates from the current directory
env = Environment(loader=FileSystemLoader('./'))

# Load the template file
template = env.get_template('net-conf.yml.j2')

# Define the variables to insert
data = {
    'hostname': 'server01',
    'ip_address': '192.168.56.100'
}

# Render the template with the data
output = template.render(data)

# Print the result
print(output)

# Optionally, save to a file
with open('output_config.txt', 'w') as f:
    f.write(output)
```
## Example: From the HTML Template for Modifying the Schedule
```
{% for row in data.schedule.rows %}
    <tr>
        <td>
            {{ loop.index }}
        </td>
        {% if row.type == "week" %}
            {% for td in row.data %}
                <td>{{ td }}</td>
            {% endfor %}
        {% elif row.type == "exam" %}
        <td colspan="{{ row.span }}" class="table-success">{{
        row.data[0] }}</td>
    {% endif %}
    </tr>
{% endfor %}
```

### **1. Analysis of the Python Code: `import`**

**Purpose**:  
The `import` statements are used to bring in external modules or packages, which provide additional functionality without needing to write that functionality from scratch.

**Example**:
```python
import jinja2
```

**Explanation**:
- This imports the `jinja2` templating engine module.
- `jinja2` is commonly used in web development to dynamically generate HTML or other text formats by combining templates with data.

**Additional Notes**:
- You might also see variations like:
  ```python
  from jinja2 import Template
  ```
  which imports only the `Template` class from the module, reducing the namespace and making code cleaner when only specific parts are needed.

### **2. Analysis of the Python Code: functions/vars**

**Purpose**:  
Functions and variables are used to organize the logic and data in a reusable and readable way.

**Example**:
```python
template = Template("Hello, {{ name }}!")
output = template.render(name="Alice")
```
**Explanation**:
- `template` is a variable holding a compiled Jinja2 template.
- `render()` is a function call that injects data into the template.
- `name="Alice"` is passing a variable (`name`) into the template, replacing `{{ name }}` in the string.

**Function Breakdown**:
- `Template()` creates a template object from a string.
- `.render()` executes the template with the provided context (variables), returning the final result.

### **3. Analysis of the Python Code: named parameters for using Jinja**

**Purpose**:  
Named parameters allow data to be passed into a Jinja2 template in a clear and descriptive way.

**Example**:
```python
template.render(title="Report", username="jdoe", score=95)
```

**Explanation**:
- Named parameters like `title`, `username`, and `score` correspond to placeholders inside the template.
- Inside the template, you might have:
  ```html
  <h1>{{ title }}</h1>
  <p>User: {{ username }}</p>
  <p>Score: {{ score }}</p>
  ```

**Why This Is Useful**:
- It improves readability and maintainability.
- The keys (`title`, `username`, `score`) act like variable names within the template.
- Named parameters make it easier to debug and understand what values are being passed.

### Summary

| Section               | What It Does | Why It Matters |
|-----------------------|--------------|----------------|
| `import`              | Loads modules like Jinja2 | Adds powerful features like templating |
| `functions/vars`      | Structures logic and data | Keeps code clean and reusable |
| named parameters (Jinja) | Passes dynamic data to templates | Enables flexible and dynamic rendering |

